(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2814e9ca"],{"73cf":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("form",{staticClass:"form-signin",on:{submit:function(t){return t.preventDefault(),e.signup(t)}}},[r("div",{staticClass:"text-center mb-4"},[r("router-link",{attrs:{to:"/"}},[r("img",{staticClass:"mb-4",attrs:{src:a("cf05"),alt:"",width:"150"}})]),r("h1",{staticClass:"h3 mb-3 font-weight-normal"},[e._v("Create an Account")]),e.log.msgError&&""==!e.log.message?r("b-alert",{attrs:{show:"",variant:"danger"}},[e._v(e._s(e.log.message))]):e._e(),e.log.loading?e._e():r("p",[e._v("Get started with Marpe Online Procurement")])],1),r("b-form-group",[r("b-row",[r("b-col",[r("div",{staticClass:"form-label-group"},[r("b-form-input",{attrs:{type:"text",id:"inputFname",placeholder:"First name",state:e.valid},model:{value:e.firstname,callback:function(t){e.firstname=t},expression:"firstname"}}),r("label",{attrs:{for:"inputFname"}},[e._v("First name")]),1==e.error?r("b-form-invalid-feedback",{attrs:{state:e.validation.fname}},[e._v("First Name is Required.")]):e._e()],1)]),r("div",{staticClass:"col"},[r("div",{staticClass:"form-label-group"},[r("b-form-input",{attrs:{type:"text",id:"inputLname",placeholder:"Last name",state:e.valid},model:{value:e.lastname,callback:function(t){e.lastname=t},expression:"lastname"}}),r("label",{attrs:{for:"inputLname"}},[e._v("Last name")]),1==e.error?r("b-form-invalid-feedback",{attrs:{state:e.validation.lname}},[e._v("Last Name is Required.")]):e._e()],1)])],1)],1),r("div",{staticClass:"form-label-group"},[r("b-form-input",{attrs:{type:"text",id:"inputEmail",placeholder:"Email address",state:e.valid},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),r("label",{attrs:{for:"inputEmail"}},[e._v("Email address")]),!0===e.error?r("b-form-invalid-feedback",{attrs:{state:e.validation.email}},[e._v("Email Address is Required.")]):e._e()],1),r("div",{staticClass:"form-label-group"},[r("b-form-input",{attrs:{type:"text",id:"inputNumber",placeholder:"Mobile number",state:e.valid},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),r("label",{attrs:{for:"inputNumber"}},[e._v("Mobile number")]),!0===e.error?r("b-form-invalid-feedback",{attrs:{state:e.validation.phone}},[e._v("Phone Number is Required.")]):e._e()],1),r("div",{staticClass:"form-label-group"},[r("b-form-input",{attrs:{type:"text",id:"inputReferral",placeholder:"Enter your Referral Code (Optional)",state:e.valid,autofocus:""},model:{value:e.referralCode,callback:function(t){e.referralCode=t},expression:"referralCode"}}),r("label",{attrs:{for:"inputReferral"}},[e._v("Referral Code (Optional)")]),r("b-form-invalid-feedback",{attrs:{state:e.referralCodeError}},[e._v(e._s(e.referralCodeErrorMsg))])],1),r("div",{staticClass:"form-label-group"},[r("b-form-input",{attrs:{type:"password",id:"inputPassword",placeholder:"Password",state:e.valid},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),r("label",{attrs:{for:"inputPassword"}},[e._v("Password")]),!0===e.error?r("b-form-invalid-feedback",{attrs:{state:e.validation.password}},[e._v("Password must be atleast 6 characters long.")]):e._e()],1),r("div",{staticClass:"form-label-group"},[r("b-form-input",{attrs:{type:"password",id:"inputCPassword",placeholder:"Comfirm Password",state:e.valid},model:{value:e.comfirm_password,callback:function(t){e.comfirm_password=t},expression:"comfirm_password"}}),r("label",{attrs:{for:"inputCPassword"}},[e._v("Comfirm Password")]),!0===e.error?r("b-form-invalid-feedback",{attrs:{state:e.validation.cpassword}},[e._v("Both password did not match.")]):e._e()],1),e.log.loading?r("b-button",{attrs:{block:"",variant:"primary",disabled:""}},[r("b-spinner",{attrs:{small:"",type:"grow"}}),e._v("Please Wait\n    ")],1):r("b-button",{attrs:{block:"",variant:"primary",type:"submit",disabled:e.password.length<6}},[e._v("\n      Sign up\n    ")]),r("router-link",{attrs:{to:"/login"}},[r("b-button",{attrs:{block:"",variant:"outline mt-2"}},[e._v("Aready have an account?")])],1),r("p",{staticClass:"mt-5 mb-3 text-muted text-center"},[r("small",[e._v("Copyright Â© Marpe Online Procument "+e._s(e.date))])])],1),r("b-modal",{scopedSlots:e._u([{key:"modal-footer",fn:function(){return[r("small",[e._v("Verify Later?")]),r("b-button",{attrs:{size:"sm",variant:"success"},on:{click:function(t){return e.login()}}},[e._v("Login")])]},proxy:!0}]),model:{value:e.modalShow,callback:function(t){e.modalShow=t},expression:"modalShow"}},[r("div",{staticClass:"text-center"},[r("div",[r("b-iconstack",{attrs:{"font-scale":"5",animation:"spin"}},[r("b-icon",{attrs:{stacked:"",icon:"circle-fill",animation:"spin",variant:"success",scale:"0.75"}}),r("b-icon",{attrs:{stacked:"",icon:"check",animation:"fade",variant:"light"}})],1)],1),r("h4",{staticClass:"d-block text-center mt-3"},[e._v("Account Created successfully!")]),r("br"),r("p",{staticClass:"text-muted"},[e._v("A verification code was sent to: "+e._s(e.email)+", please verify your account to continue")])])])],1)},s=[],o=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),i=a("2f62");function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c={name:"Header",components:{},data:function(){return{error:null,valid:null,referralCodeError:null,referralCodeErrorMsg:"",modalShow:!1,firstname:"",lastname:"",email:"",phone:"",referralCode:"",password:"",comfirm_password:"",date:null}},created:function(){this.date=this.getYear},computed:l(l({},Object(i["d"])(["log","toast"])),{},{validation:function(){return{fname:this.firstname.length>0,lname:this.lastname.length>0,email:this.email.length>0,phone:this.phone.length>0,password:this.password.length>5,cpassword:this.comfirm_password===this.password}},getYear:function(){return(new Date).getFullYear()}}),methods:{signup:function(){var e=this;(this.validation.fname||this.validation.lname||this.validation.email||this.validation.phone)&&this.validation.password&&this.validation.cpassword?this.referralCode.length>0?this.$store.dispatch("getAffiliate",this.referralCode).then((function(t){var a={referralid:t,email:e.email};e.$store.dispatch("updateAffiliate",a).then((function(){e.$store.dispatch("registerUser",{firstname:e.firstname,lastname:e.lastname,email:e.email,phone:e.phone,password:e.password,isReffered:{referred:!0,referralid:a.referralid}}).then((function(t){localStorage.setItem("accessToken",t.accessToken),e.$store.commit("SUCCESS",t),e.makeToast("success",e.toast.message,!0)})).then((function(){return e.modalShow=!0})).catch((function(t){e.$store.commit("logServerErr",t.response.data.message),e.makeToast("danger",e.toast.message,!0)}))})).catch((function(t){e.$store.commit("logServerErr",t.response.data.message),e.makeToast("danger",e.toast.message,!0)}))})).catch((function(t){e.$store.commit("logServerErr",t.response.data.message),e.makeToast("danger",e.toast.message,!0),e.referralCodeErrorMsg=t.response.data.message,e.referralCodeError=!1})):(this.valid=!0,this.error=!1,this.$store.dispatch("registerUser",{firstname:this.firstname,lastname:this.lastname,email:this.email,phone:this.phone,password:this.password}).then((function(t){localStorage.setItem("accessToken",t.accessToken),e.$store.commit("SUCCESS",t),e.makeToast("success",e.toast.message,!0)})).then((function(){return e.modalShow=!0})).catch((function(t){e.$store.commit("logServerErr",t.response.data.message),e.makeToast("danger",e.toast.message,!0)}))):this.error=!0},login:function(){this.$router.push("/login")},makeToast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r="";switch(e){case"success":r="#a0e689";break;case"danger":r="#ff5555";break;case"warning":r="#f3c744";break;default:r="#649aff";break}var s=this.$createElement,o=s("div",{class:["d-flex","flex-grow-1","align-items-baseline"]},[s("b-img",{class:"mr-2",style:"background-color: ".concat(r,"; width: 12px; height: 12px;")}),s("strong",{class:"mr-auto"},"Notice!"),s("small",{class:"text-muted mr-2"},"".concat((new Date).getSeconds()," seconds ago"))]);this.toastCount++,this.$bvToast.toast(t,{title:o,variant:e,solid:!0,toaster:"b-toaster-top-right",autoHideDelay:8e3,appendToast:a})}}},d=c,m=(a("ccc9"),a("2877")),u=Object(m["a"])(d,r,s,!1,null,"3b81b282",null);t["default"]=u.exports},ccc9:function(e,t,a){"use strict";var r=a("ebdd"),s=a.n(r);s.a},cf05:function(e,t,a){e.exports=a.p+"img/logo.434fe046.png"},ebdd:function(e,t,a){}}]);
//# sourceMappingURL=chunk-2814e9ca.6e4be2b6.js.map