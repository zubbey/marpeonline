(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-723917f7"],{"20d6":function(t,e,s){"use strict";var a=s("5ca1"),r=s("0a49")(6),o="findIndex",i=!0;o in[]&&Array(1)[o]((function(){i=!1})),a(a.P+a.F*i,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")(o)},4335:function(t,e,s){},6087:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-container",{attrs:{fluid:""}},[s("Breadcrumb",{attrs:{items:t.breadcrumb,id:t.user.slug}}),s("div",[s("b-card",{attrs:{"no-body":""}},[s("b-tabs",{attrs:{pills:"",card:""}},[s("b-tab",{attrs:{title:"Product Settings",active:""}},[s("b-card-text",[s("div",[s("label",{attrs:{for:"tags-state-event"}},[t._v("Shipping Methods")]),s("b-form-tags",{attrs:{"input-id":"tags-state-event","tag-validator":t.validator,placeholder:"Enter tags (3-50 characters) separated by comma",separator:","},on:{"tag-state":t.onTagState},model:{value:t.shippingmethods,callback:function(e){t.shippingmethods=e},expression:"shippingmethods"}})],1),s("hr",{staticClass:"mb-3"})]),s("b-card-text",[s("label",{attrs:{for:"tags-state-event"}},[t._v("Product Websites")]),s("div",{staticClass:"contain border w-100 p-2"},[s("ul",{staticClass:"list-unstyled mt-n1 mb-0 d-flex flex-wrap align-items-center",attrs:{id:"__BVID__119___TAG__LIST__"}},[t._l(t.productWebsites,(function(e,a){return s("li",{key:a,staticClass:"badge b-form-tag d-inline-flex align-items-baseline mw-100 my-0 mr-1 badge-secondary",attrs:{title:"self pickup",id:"__BVID__126","aria-labelledby":"__BVID__126__taglabel_"}},[s("span",{staticClass:"b-form-tag-content flex-grow-1 text-truncate",attrs:{id:"__BVID__126__taglabel_"}},[t._v(t._s(e.text))]),s("button",{staticClass:"close b-form-tag-remove ml-1",attrs:{"aria-keyshortcuts":"Delete",type:"button","aria-label":"Remove tag","aria-controls":"__BVID__126","aria-describedby":"__BVID__126__taglabel_"},on:{click:function(s){return t.handleRemoveWebsite(e)}}},[t._v("Ã—")])])})),s("li",[s("button",{directives:[{name:"b-modal",rawName:"v-b-modal.productWebsiteModal",modifiers:{productWebsiteModal:!0}}],staticClass:"btn b-form-tags-button p-0 btn-outline-secondary",staticStyle:{"font-size":"90%"},attrs:{type:"button"}},[s("b-icon",{attrs:{icon:"plus"}})],1)])],2)]),s("hr",{staticClass:"mb-3"})]),s("b-card-text",[s("label",{attrs:{for:"tags-state-event"}},[t._v("Social Media")]),t._l(t.socials,(function(e,a){return s("b-row",{key:a,staticClass:"my-1 align-items-center"},[s("b-col",{attrs:{sm:"1"}},[s("mdb-icon",{attrs:{fab:"",icon:e.icon,size:"lg"}})],1),s("b-col",[s("b-form-input",{attrs:{type:"url",placeholder:"paste social media link here"},model:{value:e.link,callback:function(s){t.$set(e,"link",s)},expression:"social.link"}})],1)],1)})),s("hr",{staticClass:"mb-3"})],2),s("b-card-text",[s("label",{attrs:{for:"tags-state-event"}},[t._v("Notes")]),s("div",{staticClass:"columns is-mobile"},t._l(t.notes,(function(e,a){return s("div",{key:a,staticClass:"column"},[s("article",{staticClass:"message"},[s("div",{staticClass:"message-header"},[s("p",[t._v(t._s(e.page))]),s("button",{on:{click:function(s){return t.editNote(e)}}},[s("b-icon",{attrs:{icon:"pencil-square"}})],1),s("button",{staticClass:"delete",attrs:{"aria-label":"delete"}})]),s("div",{staticClass:"message-body"},[s("div",{staticClass:"content"},[s("div",{domProps:{innerHTML:t._s(e.message)}})])])])])})),0),s("hr",{staticClass:"mb-3"})]),t.log.loading?s("mdb-btn",{attrs:{color:"primary",disabled:""}},[s("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}),t._v("\n              Please Wait...\n            ")]):s("mdb-btn",{staticClass:"btn-primary",attrs:{type:"button"},on:{click:t.handleUpdateChanges1}},[t._v("Save Changes")])],1),s("b-tab",{attrs:{title:"Prices Settings"}},[s("b-card-text",[s("label",{attrs:{for:"tags-state-event"}},[t._v("Currency Rates")]),s("b-form",{ref:"ratesForm"},t._l(t.rates,(function(e,a){return s("div",{key:a},t._l(e,(function(e,a,r){return s("b-row",{key:r,staticClass:"my-1 align-items-center"},[s("b-col",{attrs:{sm:"2"}},[s("label",{attrs:{for:a}},[t._v(t._s(a))])]),s("b-col",[s("b-form-input",{attrs:{type:"number",placeholder:"Enter Amount",value:e,name:a,step:"any",required:""}})],1)],1)})),1)})),0),s("hr",{staticClass:"mb-3"})],1),s("b-card-text",[s("label",{attrs:{for:"tags-state-event"}},[t._v("Marpe Commission")]),s("b-form",{ref:"commissionForm"},t._l(t.commission,(function(e,a,r){return s("b-row",{key:r,staticClass:"my-1 align-items-center"},[s("b-col",{attrs:{sm:"2"}},[s("label",{attrs:{for:a}},[t._v(t._s(a))])]),s("b-col",[s("b-form-input",{attrs:{type:"number",placeholder:"Enter Amount",value:e,name:a,step:"any",required:""}})],1)],1)})),1),s("hr",{staticClass:"mb-3"})],1),t.log.loading?s("b-button",{attrs:{variant:"primary",disabled:""}},[s("b-spinner",{attrs:{small:""}}),t._v("\n              Please wait...\n            ")],1):s("b-button",{attrs:{variant:"primary",type:"button"},on:{click:t.handleSaveRates}},[t._v("Update Prices")])],1)],1)],1)],1),s("b-modal",{ref:"productWebsiteModal",attrs:{id:"productWebsiteModal","hide-backdrop":"","content-class":"shadow",title:"Product Website"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){e.ok;return[s("b-button",{attrs:{size:"sm",variant:"success"},on:{click:t.handelAddWebsite}},[s("b-icon",{attrs:{icon:"plus"}}),t._v("Add\n        ")],1)]}}])},[s("b-row",{staticClass:"my-1"},[s("b-col",{attrs:{sm:"3"}},[s("label",{attrs:{for:"text"}},[t._v("Website")])]),s("b-col",{attrs:{sm:"9"}},[s("b-form-input",{attrs:{id:"text",type:"text"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handelAddWebsite(e)}},model:{value:t.productWebsiteText,callback:function(e){t.productWebsiteText=e},expression:"productWebsiteText"}})],1)],1),s("b-row",{staticClass:"my-1"},[s("b-col",{attrs:{sm:"3"}},[s("label",{attrs:{for:"text"}},[t._v("Web Link")])]),s("b-col",{attrs:{sm:"9"}},[s("b-form-input",{attrs:{id:"text",type:"url",disabled:""},model:{value:t.productWebsiteValue,callback:function(e){t.productWebsiteValue=e},expression:"productWebsiteValue"}})],1)],1),t.logger.error?s("div",{staticClass:"error"},[t._v(t._s(t.logger.errMsg))]):t._e()],1),s("b-modal",{ref:"noteModal",attrs:{id:"noteModal","hide-backdrop":"","content-class":"shadow",title:"page note"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){e.ok;return[s("b-button",{attrs:{size:"sm",variant:"success"},on:{click:t.handelSaveNote}},[t._v("Save")])]}}])},[s("b-form-group",{staticClass:"my-1"},[s("label",{attrs:{for:"text"}},[t._v("Page Title")]),s("b-form-input",{attrs:{id:"text",type:"text"},model:{value:t.editableNote.page,callback:function(e){t.$set(t.editableNote,"page",e)},expression:"editableNote.page"}})],1),s("b-form-group",[s("ckeditor",{attrs:{editor:t.editor,config:t.editorConfig},model:{value:t.editableNote.message,callback:function(e){t.$set(t.editableNote,"message",e)},expression:"editableNote.message"}})],1),t.logger.error?s("div",{staticClass:"error"},[t._v(t._s(t.logger.errMsg))]):t._e()],1)],1)],1)},r=[],o=(s("8e6e"),s("ac6a"),s("456d"),s("20d6"),s("bd86")),i=s("91c9"),n=s("fb3d"),l=s.n(n),c=s("5651"),d=s("2f62");function u(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function b(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?u(Object(s),!0).forEach((function(e){Object(o["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var m={name:"general_settings",props:["id"],components:{Breadcrumb:c["a"],mdbIcon:i["mdbIcon"],mdbBtn:i["mdbBtn"]},data:function(){return{breadcrumb:[{text:"Dashboard",href:"/admin/"+this.id+"/overview"},{text:"General Settings",href:"/admin/"+this.id+"/general_settings"}],logger:{error:!1,errMsg:""},shippingmethods:[],productWebsites:[],socials:[],notes:[],editableNote:{},rates:[],commission:{},validTags:[],invalidTags:[],duplicateTags:[],productWebsiteText:"",productWebsiteValue:"",editor:l.a,editorConfig:{toolbarGroups:[{name:"document",groups:["mode","document","doctools"]},{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker","editing"]},{name:"forms",groups:["forms"]},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi","paragraph"]},{name:"links",groups:["links"]},{name:"insert",groups:["insert"]},"/",{name:"styles",groups:["styles"]},{name:"colors",groups:["colors"]},{name:"tools",groups:["tools"]},{name:"others",groups:["others"]},{name:"about",groups:["about"]}]}}},watch:{productWebsiteText:function(t){this.productWebsiteValue="https://"+t}},mounted:function(){this.shippingmethods=this.settings.shippingmethods,this.productWebsites=this.settings.productwebsites,this.socials=this.settings.socials,this.notes=this.settings.notes,this.rates=this.settings.rates,this.commission=this.settings.commission},computed:b({},Object(d["d"])(["user","settings","adminData","log"])),methods:{onTagState:function(t,e,s){this.validTags=t,this.invalidTags=e,this.duplicateTags=s},validator:function(t){return t.length>2&&t.length<50},handelAddWebsite:function(){var t=this,e={text:this.productWebsiteText,value:this.productWebsiteValue},s=this.productWebsites.filter((function(e){return e.text.toLowerCase()===t.productWebsiteText.toLowerCase()}));if(s.length>0)return this.logger.errMsg="Website already exist. Add a different website",this.logger.error=!0;this.productWebsites.push(e),this.$refs["productWebsiteModal"].hide(),this.productWebsiteText="",this.productWebsiteValue="",this.logger={error:!1,errMsg:""}},handleRemoveWebsite:function(t){this.productWebsites=this.productWebsites.filter((function(e){return e.text!=t.text}))},editNote:function(t){this.editableNote=t,this.$refs["noteModal"].show()},handelSaveNote:function(){var t=this,e=this.notes.findIndex((function(e){return e.id==t.editableNote.id}));this.notes[e]=this.editableNote,this.$refs["noteModal"].hide(),this.editableNote={}},handleUpdateChanges1:function(){var t=this,e={token:localStorage.getItem("adminAccessToken"),productwebsites:this.productWebsites,shippingmethods:this.shippingmethods,notes:this.notes,socials:this.socials};this.$store.dispatch("updateGeneralSettings1",e).then((function(){t.makeToast("success","Saved Successfully!",!0),t.$store.commit("RESET")})).catch((function(e){t.$store.commit("logServerErr",e.response.data.message),t.makeToast("danger",e.response.data.message,!0)}))},handleSaveRates:function(t){var e=this;t.preventDefault(),console.log(this.$refs.ratesForm.d_to_n.value);var s={token:localStorage.getItem("adminAccessToken"),rates:[{d_to_n:this.$refs.ratesForm.d_to_n.value},{d_to_y:this.$refs.ratesForm.d_to_y.value},{d_to_g:this.$refs.ratesForm.d_to_g.value},{n_to_g:this.$refs.ratesForm.n_to_g.value},{n_to_y:this.$refs.ratesForm.n_to_y.value},{y_to_g:this.$refs.ratesForm.y_to_g.value}],commission:{shipping:this.$refs.commissionForm.shipping.value,procurementfee:this.$refs.commissionForm.procurementfee.value,kg:this.$refs.commissionForm.kg.value}};this.$store.dispatch("updateGeneralSettings2",s).then((function(){e.makeToast("success","Saved Successfully!",!0),e.$store.commit("RESET"),e.rates=s.rates,e.commission=s.commission})).catch((function(t){e.$store.commit("logServerErr",t.response.data.message),e.makeToast("danger",t.response.data.message,!0)}))},makeToast:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a="";switch(t){case"success":a="#a0e689";break;case"danger":a="#ff5555";break;case"warning":a="#f3c744";break;default:a="#649aff";break}var r=this.$createElement,o=r("div",{class:["d-flex","flex-grow-1","align-items-baseline"]},[r("b-img",{class:"mr-2",style:"background-color: ".concat(a,"; width: 12px; height: 12px;")}),r("strong",{class:"mr-auto"},"Notice!"),r("small",{class:"text-muted mr-2"},"".concat((new Date).getSeconds()," seconds ago"))]);this.toastCount++,this.$bvToast.toast(e,{title:o,variant:t,solid:!0,toaster:"b-toaster-bottom-right",autoHideDelay:5e3,appendToast:s})}}},p=m,g=(s("ad06"),s("2877")),h=Object(g["a"])(p,a,r,!1,null,null,null);e["default"]=h.exports},ad06:function(t,e,s){"use strict";var a=s("4335"),r=s.n(a);r.a}}]);
//# sourceMappingURL=chunk-723917f7.55c347f5.js.map